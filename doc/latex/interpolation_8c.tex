\hypertarget{interpolation_8c}{
\section{src/interpolation.c File Reference}
\label{interpolation_8c}\index{src/interpolation.c@{src/interpolation.c}}
}
{\tt \#include \char`\"{}interpolation.h\char`\"{}}\par
{\tt \#include $<$string.h$>$}\par
{\tt \#include $<$stdio.h$>$}\par
\subsection*{Functions}
\begin{CompactItemize}
\item 
int \hyperlink{interpolation_8c_15430b7110ce567d75b660f702cddcaf}{miup\_\-points2position} (double $\ast$points, const int z, const double $\ast$axis, const int num, const int axis\_\-type)
\begin{CompactList}\small\item\em find position in array of position in projection \item\end{CompactList}\item 
int \hyperlink{interpolation_8c_25fc174678f611dceea2d511fd537749}{miup\_\-interpolate\_\-f} (const int method, const char $\ast$proj\_\-input, const float $\ast$infield, const double $\ast$in\_\-x\_\-axis, const double $\ast$in\_\-y\_\-axis, const int in\_\-x\_\-axis\_\-type, const int in\_\-y\_\-axis\_\-type, const int ix, const int iy, const int iz, const char $\ast$proj\_\-output, float $\ast$outfield, const double $\ast$out\_\-x\_\-axis, const double $\ast$out\_\-y\_\-axis, const int out\_\-x\_\-axis\_\-type, const int out\_\-y\_\-axis\_\-type, const int ox, const int oy)
\item 
int \hyperlink{interpolation_8c_3a8843a6253cd4e7d8a6c513c3625c66}{miup\_\-get\_\-values\_\-f} (const float $\ast$infield, float $\ast$outvalues, const double x, const double y, const int ix, const int iy, const int iz)
\item 
int \hyperlink{interpolation_8c_a8dd788a7ab876cd332bdf7f50a9a184}{miup\_\-get\_\-values\_\-bilinear\_\-f} (const float $\ast$infield, float $\ast$outvalues, const double x, const double y, const int ix, const int iy, const int iz)
\item 
int \hyperlink{interpolation_8c_201c7d7a01d8f5ccdea60c730933857e}{miup\_\-get\_\-values\_\-bicubic\_\-f} (const float $\ast$infield, float $\ast$outvalues, const double x, const double y, const int ix, const int iy, const int iz)
\begin{CompactList}\small\item\em not implemented yet \item\end{CompactList}\end{CompactItemize}


\subsection{Function Documentation}
\hypertarget{interpolation_8c_201c7d7a01d8f5ccdea60c730933857e}{
\index{interpolation.c@{interpolation.c}!miup_get_values_bicubic_f@{miup\_\-get\_\-values\_\-bicubic\_\-f}}
\index{miup_get_values_bicubic_f@{miup\_\-get\_\-values\_\-bicubic\_\-f}!interpolation.c@{interpolation.c}}
\subsubsection[miup\_\-get\_\-values\_\-bicubic\_\-f]{\setlength{\rightskip}{0pt plus 5cm}int miup\_\-get\_\-values\_\-bicubic\_\-f (const float $\ast$ {\em infield}, float $\ast$ {\em outvalues}, const double {\em x}, const double {\em y}, const int {\em ix}, const int {\em iy}, const int {\em iz})}}
\label{interpolation_8c_201c7d7a01d8f5ccdea60c730933857e}


not implemented yet 

\begin{Desc}
\item[See also:]\href{http://java.sun.com/products/java-media/jai/forDevelopers/jai-apidocs/javax/media/jai/InterpolationBicubic.html}{\tt http://java.sun.com/products/java-media/jai/for\-Developers/jai-apidocs/javax/media/jai/Interpolation\-Bicubic.html} \end{Desc}
\hypertarget{interpolation_8c_a8dd788a7ab876cd332bdf7f50a9a184}{
\index{interpolation.c@{interpolation.c}!miup_get_values_bilinear_f@{miup\_\-get\_\-values\_\-bilinear\_\-f}}
\index{miup_get_values_bilinear_f@{miup\_\-get\_\-values\_\-bilinear\_\-f}!interpolation.c@{interpolation.c}}
\subsubsection[miup\_\-get\_\-values\_\-bilinear\_\-f]{\setlength{\rightskip}{0pt plus 5cm}int miup\_\-get\_\-values\_\-bilinear\_\-f (const float $\ast$ {\em infield}, float $\ast$ {\em outvalues}, const double {\em x}, const double {\em y}, const int {\em ix}, const int {\em iy}, const int {\em iz})}}
\label{interpolation_8c_a8dd788a7ab876cd332bdf7f50a9a184}


Bilinear interpolation requires a neighborhood extending one pixel to the right and below the central sample. If the fractional subsample position is given by (xfrac, yfrac), the resampled pixel value will be:



\footnotesize\begin{verbatim}     (1 - yfrac) * [(1 - xfrac)*s00 + xfrac*s01] + 
     yfrac       * [(1 - xfrac)*s10 + xfrac*s11]
   \end{verbatim}
\normalsize


This is documented by the following diagram: 

\footnotesize\begin{verbatim}                         s00    s01                                     
                                                                        
                             .      < yfrac                      
                                                                        
                         s10    s11                                     
                             ^                                           
                            xfrac
   \end{verbatim}
\normalsize
 \begin{Desc}
\item[See also:]\href{http://java.sun.com/products/java-media/jai/forDevelopers/jai-apidocs/javax/media/jai/InterpolationBilinear.html}{\tt http://java.sun.com/products/java-media/jai/for\-Developers/jai-apidocs/javax/media/jai/Interpolation\-Bilinear.html} \end{Desc}
\begin{Desc}
\item[Warning:]if any of the 4 used values of infield is undefined or outside of infield, the return value will be undefined \end{Desc}
\hypertarget{interpolation_8c_3a8843a6253cd4e7d8a6c513c3625c66}{
\index{interpolation.c@{interpolation.c}!miup_get_values_f@{miup\_\-get\_\-values\_\-f}}
\index{miup_get_values_f@{miup\_\-get\_\-values\_\-f}!interpolation.c@{interpolation.c}}
\subsubsection[miup\_\-get\_\-values\_\-f]{\setlength{\rightskip}{0pt plus 5cm}int miup\_\-get\_\-values\_\-f (const float $\ast$ {\em infield}, float $\ast$ {\em outvalues}, const double {\em x}, const double {\em y}, const int {\em ix}, const int {\em iy}, const int {\em iz})}}
\label{interpolation_8c_3a8843a6253cd4e7d8a6c513c3625c66}


\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em infield}]3d fortran array of size ix,iy,iz \item[{\em outfield}]1d array of size iz containing the values \end{description}
\end{Desc}
\hypertarget{interpolation_8c_25fc174678f611dceea2d511fd537749}{
\index{interpolation.c@{interpolation.c}!miup_interpolate_f@{miup\_\-interpolate\_\-f}}
\index{miup_interpolate_f@{miup\_\-interpolate\_\-f}!interpolation.c@{interpolation.c}}
\subsubsection[miup\_\-interpolate\_\-f]{\setlength{\rightskip}{0pt plus 5cm}int miup\_\-interpolate\_\-f (int {\em method}, const char $\ast$ {\em proj\_\-input}, const float $\ast$ {\em infield}, const double $\ast$ {\em in\_\-x\_\-axis}, const double $\ast$ {\em in\_\-y\_\-axis}, const int {\em in\_\-x\_\-axis\_\-type}, const int {\em in\_\-y\_\-axis\_\-type}, const int {\em ix}, const int {\em iy}, const int {\em iz}, const char $\ast$ {\em proj\_\-output}, float $\ast$ {\em outfield}, const double $\ast$ {\em out\_\-x\_\-axis}, const double $\ast$ {\em out\_\-y\_\-axis}, const int {\em out\_\-x\_\-axis\_\-type}, const int {\em out\_\-y\_\-axis\_\-type}, const int {\em ox}, const int {\em oy})}}
\label{interpolation_8c_25fc174678f611dceea2d511fd537749}


Interpolation between two projections. Missing values are set to MIUP\_\-UNDEFINED\_\-F which is implemented as C99 nanf. The coordinates of a cell give the midpoint of a cell, i.e. cell (10,20) spans (\mbox{[}9.5..10.5\mbox{[},\mbox{[}19.5-20.5\mbox{[})

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em method}]one of MIUP\_\-NEAREST\_\-NEIGHBOR MIUP\_\-BILINEAR MIUP\_\-BICUBIC \item[{\em proj\_\-input}]proj4-string of projection of infield \item[{\em infield}]real rectangular array of dimension infield\mbox{[}iz,iy,ix\mbox{]} \item[{\em in\_\-x\_\-axis}]field of size ix. Axis needs to be strong monotonous and if longitude/latitude in degree \item[{\em in\_\-y\_\-axis}]field of size iy. Axis needs to be strong monotonous and if longitude/latitude in degree \item[{\em in\_\-x\_\-axis\_\-type}]one of MIUP\_\-LATITUDE, MIUP\_\-LONGITUDE, MIUP\_\-PROJ\_\-AXIS \item[{\em in\_\-y\_\-axis\_\-type}]one of MIUP\_\-LATITUDE, MIUP\_\-LONGITUDE, MIUP\_\-PROJ\_\-AXIS \item[{\em ix}]x-dimension of infield \item[{\em iy}]y-dimension of infield \item[{\em iz}]z-dimension of infield and outfield. The z-dim allows you to convert several fields at once without calculating the projection again and again. \item[{\em proj\_\-output}]proj4-string of projection of outfield \item[{\em outfield}]real rectangular array of dimension outfield\mbox{[}iz,oy,ox\mbox{]} \item[{\em out\_\-x\_\-axis}]field of size ox. Axis needs to be strong monotonous and if longitude/latitude in degree \item[{\em out\_\-y\_\-axis}]field of size oy. Axis needs to be strong monotonous and if longitude/latitude in degree \item[{\em out\_\-x\_\-axis\_\-type}]one of MIUP\_\-LATITUDE, MIUP\_\-LONGITUDE, MIUP\_\-PROJ\_\-AXIS \item[{\em out\_\-y\_\-axis\_\-type}]one of MIUP\_\-LATITUDE, MIUP\_\-LONGITUDE, MIUP\_\-PROJ\_\-AXIS \item[{\em ox}]x-dimension of outfield \item[{\em oy}]y-dimension of outfield \end{description}
\end{Desc}
\hypertarget{interpolation_8c_15430b7110ce567d75b660f702cddcaf}{
\index{interpolation.c@{interpolation.c}!miup_points2position@{miup\_\-points2position}}
\index{miup_points2position@{miup\_\-points2position}!interpolation.c@{interpolation.c}}
\subsubsection[miup\_\-points2position]{\setlength{\rightskip}{0pt plus 5cm}int miup\_\-points2position (double $\ast$ {\em points}, const int {\em z}, const double $\ast$ {\em axis}, const int {\em num}, const int {\em axis\_\-type})}}
\label{interpolation_8c_15430b7110ce567d75b660f702cddcaf}


find position in array of position in projection 

points2position uses linear splines to find the array-position of points in the given axis

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em points}]the values will get changed from points in axis coordinates to array coordinates \item[{\em z}]number of values in points \item[{\em axis}]coordinate axis \item[{\em num}]number of elements in coordinate axis \item[{\em axis\_\-type}]type of axis, one of MIUP\_\-LONGITUDE, MIUP\_\-LATITUDE, MIUP\_\-PROJ\_\-AXIS \end{description}
\end{Desc}
