\hypertarget{interpolation_8h}{
\section{src/interpolation.h File Reference}
\label{interpolation_8h}\index{src/interpolation.h@{src/interpolation.h}}
}
{\tt \#include $<$proj\_\-api.h$>$}\par
{\tt \#include $<$math.h$>$}\par
\subsection*{Defines}
\begin{CompactItemize}
\item 
\#define \hyperlink{interpolation_8h_b908b9af737c018f9d5913907eea2059}{MIUP\_\-NEAREST\_\-NEIGHBOR}~0
\item 
\#define \hyperlink{interpolation_8h_cb8af921fde16492dce6af5f83bfe876}{MIUP\_\-BILINEAR}~1
\item 
\#define \hyperlink{interpolation_8h_29f4c50efc71d0156c62f044dfc96466}{MIUP\_\-BICUBIC}~2
\item 
\#define \hyperlink{interpolation_8h_482f968a121a6452f81bf4b965bf384e}{MIUP\_\-UNDEFINED\_\-F}~(nanf(\char`\"{}\char`\"{}))
\item 
\#define \hyperlink{interpolation_8h_01b06aeb8173a6b30cd5bb92c8c7f039}{MIUP\_\-UNDEFINED\_\-D}~(nand(\char`\"{}\char`\"{}))
\item 
\#define \hyperlink{interpolation_8h_96f0f011ca9578c719f06f018b1f2651}{MIUP\_\-ERROR}~-1
\item 
\#define \hyperlink{interpolation_8h_c75b863ade0e85b73dabf97ad98b6ff1}{MIUP\_\-OK}~1
\item 
\#define \hyperlink{interpolation_8h_f05bbe15cb258cb100d22965c3b70cda}{MIUP\_\-PROJ\_\-AXIS}~0
\item 
\#define \hyperlink{interpolation_8h_679e3fc575eb7497b690c817707bf91c}{MIUP\_\-LONGITUDE}~1
\item 
\#define \hyperlink{interpolation_8h_1831e7b8008a83599c4fcc8a6287d174}{MIUP\_\-LATITUDE}~2
\item 
\#define \hyperlink{interpolation_8h_0cbacf06ee34241c5cac5d0d6cd43130}{MIUP\_\-DEBUG}~1
\end{CompactItemize}
\subsection*{Functions}
\begin{CompactItemize}
\item 
int \hyperlink{interpolation_8h_cdad101d181d7bd32c8f2f251c85bab0}{miup\_\-interpolate\_\-f} (int method, const char $\ast$proj\_\-input, const float $\ast$infield, const double $\ast$in\_\-x\_\-axis, const double $\ast$in\_\-y\_\-axis, const int in\_\-x\_\-axis\_\-type, const int in\_\-y\_\-axis\_\-type, const int ix, const int iy, const int iz, const char $\ast$proj\_\-output, float $\ast$outfield, const double $\ast$out\_\-x\_\-axis, const double $\ast$out\_\-y\_\-axis, const int out\_\-x\_\-axis\_\-type, const int out\_\-y\_\-axis\_\-type, const int ox, const int oy)
\item 
int \hyperlink{interpolation_8h_c4d4b7ae0abf708f6156a1664982b82c}{miup\_\-interpolate\_\-d} (int method, char $\ast$proj\_\-input, double $\ast$infield, double $\ast$in\_\-x\_\-axis, double $\ast$in\_\-y\_\-axis, int in\_\-x\_\-axis\_\-type, int in\_\-y\_\-axis\_\-type, int ix, int iy, int iz, char $\ast$proj\_\-output, double $\ast$outfield, double $\ast$out\_\-x\_\-axis, double $\ast$out\_\-y\_\-axis, int out\_\-x\_\-axis\_\-type, int out\_\-y\_\-axis\_\-type, int ox, int oy)
\begin{CompactList}\small\item\em not implemented yet \item\end{CompactList}\item 
int \hyperlink{interpolation_8h_3a8843a6253cd4e7d8a6c513c3625c66}{miup\_\-get\_\-values\_\-f} (const float $\ast$infield, float $\ast$outvalues, const double x, const double y, const int ix, const int iy, const int iz)
\item 
int \hyperlink{interpolation_8h_a8dd788a7ab876cd332bdf7f50a9a184}{miup\_\-get\_\-values\_\-bilinear\_\-f} (const float $\ast$infield, float $\ast$outvalues, const double x, const double y, const int ix, const int iy, const int iz)
\item 
int \hyperlink{interpolation_8h_201c7d7a01d8f5ccdea60c730933857e}{miup\_\-get\_\-values\_\-bicubic\_\-f} (const float $\ast$infield, float $\ast$outvalues, const double x, const double y, const int ix, const int iy, const int iz)
\begin{CompactList}\small\item\em not implemented yet \item\end{CompactList}\item 
int \hyperlink{interpolation_8h_15430b7110ce567d75b660f702cddcaf}{miup\_\-points2position} (double $\ast$points, const int z, const double $\ast$axis, const int num, const int axis\_\-type)
\begin{CompactList}\small\item\em find position in array of position in projection \item\end{CompactList}\item 
int \hyperlink{interpolation_8h_91f19f45de7774afc5b7d90f46b179e6}{miup\_\-3d\_\-array\_\-position} (int x, int y, int z, int ix, int iy, int iz)
\end{CompactItemize}


\subsection{Define Documentation}
\hypertarget{interpolation_8h_29f4c50efc71d0156c62f044dfc96466}{
\index{interpolation.h@{interpolation.h}!MIUP_BICUBIC@{MIUP\_\-BICUBIC}}
\index{MIUP_BICUBIC@{MIUP\_\-BICUBIC}!interpolation.h@{interpolation.h}}
\subsubsection[MIUP\_\-BICUBIC]{\setlength{\rightskip}{0pt plus 5cm}\#define MIUP\_\-BICUBIC~2}}
\label{interpolation_8h_29f4c50efc71d0156c62f044dfc96466}


\hypertarget{interpolation_8h_cb8af921fde16492dce6af5f83bfe876}{
\index{interpolation.h@{interpolation.h}!MIUP_BILINEAR@{MIUP\_\-BILINEAR}}
\index{MIUP_BILINEAR@{MIUP\_\-BILINEAR}!interpolation.h@{interpolation.h}}
\subsubsection[MIUP\_\-BILINEAR]{\setlength{\rightskip}{0pt plus 5cm}\#define MIUP\_\-BILINEAR~1}}
\label{interpolation_8h_cb8af921fde16492dce6af5f83bfe876}


\hypertarget{interpolation_8h_0cbacf06ee34241c5cac5d0d6cd43130}{
\index{interpolation.h@{interpolation.h}!MIUP_DEBUG@{MIUP\_\-DEBUG}}
\index{MIUP_DEBUG@{MIUP\_\-DEBUG}!interpolation.h@{interpolation.h}}
\subsubsection[MIUP\_\-DEBUG]{\setlength{\rightskip}{0pt plus 5cm}\#define MIUP\_\-DEBUG~1}}
\label{interpolation_8h_0cbacf06ee34241c5cac5d0d6cd43130}


\hypertarget{interpolation_8h_96f0f011ca9578c719f06f018b1f2651}{
\index{interpolation.h@{interpolation.h}!MIUP_ERROR@{MIUP\_\-ERROR}}
\index{MIUP_ERROR@{MIUP\_\-ERROR}!interpolation.h@{interpolation.h}}
\subsubsection[MIUP\_\-ERROR]{\setlength{\rightskip}{0pt plus 5cm}\#define MIUP\_\-ERROR~-1}}
\label{interpolation_8h_96f0f011ca9578c719f06f018b1f2651}


\hypertarget{interpolation_8h_1831e7b8008a83599c4fcc8a6287d174}{
\index{interpolation.h@{interpolation.h}!MIUP_LATITUDE@{MIUP\_\-LATITUDE}}
\index{MIUP_LATITUDE@{MIUP\_\-LATITUDE}!interpolation.h@{interpolation.h}}
\subsubsection[MIUP\_\-LATITUDE]{\setlength{\rightskip}{0pt plus 5cm}\#define MIUP\_\-LATITUDE~2}}
\label{interpolation_8h_1831e7b8008a83599c4fcc8a6287d174}


\hypertarget{interpolation_8h_679e3fc575eb7497b690c817707bf91c}{
\index{interpolation.h@{interpolation.h}!MIUP_LONGITUDE@{MIUP\_\-LONGITUDE}}
\index{MIUP_LONGITUDE@{MIUP\_\-LONGITUDE}!interpolation.h@{interpolation.h}}
\subsubsection[MIUP\_\-LONGITUDE]{\setlength{\rightskip}{0pt plus 5cm}\#define MIUP\_\-LONGITUDE~1}}
\label{interpolation_8h_679e3fc575eb7497b690c817707bf91c}


\hypertarget{interpolation_8h_b908b9af737c018f9d5913907eea2059}{
\index{interpolation.h@{interpolation.h}!MIUP_NEAREST_NEIGHBOR@{MIUP\_\-NEAREST\_\-NEIGHBOR}}
\index{MIUP_NEAREST_NEIGHBOR@{MIUP\_\-NEAREST\_\-NEIGHBOR}!interpolation.h@{interpolation.h}}
\subsubsection[MIUP\_\-NEAREST\_\-NEIGHBOR]{\setlength{\rightskip}{0pt plus 5cm}\#define MIUP\_\-NEAREST\_\-NEIGHBOR~0}}
\label{interpolation_8h_b908b9af737c018f9d5913907eea2059}


\hypertarget{interpolation_8h_c75b863ade0e85b73dabf97ad98b6ff1}{
\index{interpolation.h@{interpolation.h}!MIUP_OK@{MIUP\_\-OK}}
\index{MIUP_OK@{MIUP\_\-OK}!interpolation.h@{interpolation.h}}
\subsubsection[MIUP\_\-OK]{\setlength{\rightskip}{0pt plus 5cm}\#define MIUP\_\-OK~1}}
\label{interpolation_8h_c75b863ade0e85b73dabf97ad98b6ff1}


\hypertarget{interpolation_8h_f05bbe15cb258cb100d22965c3b70cda}{
\index{interpolation.h@{interpolation.h}!MIUP_PROJ_AXIS@{MIUP\_\-PROJ\_\-AXIS}}
\index{MIUP_PROJ_AXIS@{MIUP\_\-PROJ\_\-AXIS}!interpolation.h@{interpolation.h}}
\subsubsection[MIUP\_\-PROJ\_\-AXIS]{\setlength{\rightskip}{0pt plus 5cm}\#define MIUP\_\-PROJ\_\-AXIS~0}}
\label{interpolation_8h_f05bbe15cb258cb100d22965c3b70cda}


\hypertarget{interpolation_8h_01b06aeb8173a6b30cd5bb92c8c7f039}{
\index{interpolation.h@{interpolation.h}!MIUP_UNDEFINED_D@{MIUP\_\-UNDEFINED\_\-D}}
\index{MIUP_UNDEFINED_D@{MIUP\_\-UNDEFINED\_\-D}!interpolation.h@{interpolation.h}}
\subsubsection[MIUP\_\-UNDEFINED\_\-D]{\setlength{\rightskip}{0pt plus 5cm}\#define MIUP\_\-UNDEFINED\_\-D~(nand(\char`\"{}\char`\"{}))}}
\label{interpolation_8h_01b06aeb8173a6b30cd5bb92c8c7f039}


\hypertarget{interpolation_8h_482f968a121a6452f81bf4b965bf384e}{
\index{interpolation.h@{interpolation.h}!MIUP_UNDEFINED_F@{MIUP\_\-UNDEFINED\_\-F}}
\index{MIUP_UNDEFINED_F@{MIUP\_\-UNDEFINED\_\-F}!interpolation.h@{interpolation.h}}
\subsubsection[MIUP\_\-UNDEFINED\_\-F]{\setlength{\rightskip}{0pt plus 5cm}\#define MIUP\_\-UNDEFINED\_\-F~(nanf(\char`\"{}\char`\"{}))}}
\label{interpolation_8h_482f968a121a6452f81bf4b965bf384e}




\subsection{Function Documentation}
\hypertarget{interpolation_8h_91f19f45de7774afc5b7d90f46b179e6}{
\index{interpolation.h@{interpolation.h}!miup_3d_array_position@{miup\_\-3d\_\-array\_\-position}}
\index{miup_3d_array_position@{miup\_\-3d\_\-array\_\-position}!interpolation.h@{interpolation.h}}
\subsubsection[miup\_\-3d\_\-array\_\-position]{\setlength{\rightskip}{0pt plus 5cm}int miup\_\-3d\_\-array\_\-position (int {\em x}, int {\em y}, int {\em z}, int {\em ix}, int {\em iy}, int {\em iz})\hspace{0.3cm}{\tt  \mbox{[}inline\mbox{]}}}}
\label{interpolation_8h_91f19f45de7774afc5b7d90f46b179e6}


gives the position of an fortran like array of size ix, iy, iz

\begin{Desc}
\item[Returns:]the position of x, y, z \end{Desc}
\hypertarget{interpolation_8h_201c7d7a01d8f5ccdea60c730933857e}{
\index{interpolation.h@{interpolation.h}!miup_get_values_bicubic_f@{miup\_\-get\_\-values\_\-bicubic\_\-f}}
\index{miup_get_values_bicubic_f@{miup\_\-get\_\-values\_\-bicubic\_\-f}!interpolation.h@{interpolation.h}}
\subsubsection[miup\_\-get\_\-values\_\-bicubic\_\-f]{\setlength{\rightskip}{0pt plus 5cm}int miup\_\-get\_\-values\_\-bicubic\_\-f (const float $\ast$ {\em infield}, float $\ast$ {\em outvalues}, const double {\em x}, const double {\em y}, const int {\em ix}, const int {\em iy}, const int {\em iz})}}
\label{interpolation_8h_201c7d7a01d8f5ccdea60c730933857e}


not implemented yet 

\begin{Desc}
\item[See also:]\href{http://java.sun.com/products/java-media/jai/forDevelopers/jai-apidocs/javax/media/jai/InterpolationBicubic.html}{\tt http://java.sun.com/products/java-media/jai/for\-Developers/jai-apidocs/javax/media/jai/Interpolation\-Bicubic.html} \end{Desc}
\hypertarget{interpolation_8h_a8dd788a7ab876cd332bdf7f50a9a184}{
\index{interpolation.h@{interpolation.h}!miup_get_values_bilinear_f@{miup\_\-get\_\-values\_\-bilinear\_\-f}}
\index{miup_get_values_bilinear_f@{miup\_\-get\_\-values\_\-bilinear\_\-f}!interpolation.h@{interpolation.h}}
\subsubsection[miup\_\-get\_\-values\_\-bilinear\_\-f]{\setlength{\rightskip}{0pt plus 5cm}int miup\_\-get\_\-values\_\-bilinear\_\-f (const float $\ast$ {\em infield}, float $\ast$ {\em outvalues}, const double {\em x}, const double {\em y}, const int {\em ix}, const int {\em iy}, const int {\em iz})}}
\label{interpolation_8h_a8dd788a7ab876cd332bdf7f50a9a184}


Bilinear interpolation requires a neighborhood extending one pixel to the right and below the central sample. If the fractional subsample position is given by (xfrac, yfrac), the resampled pixel value will be:



\footnotesize\begin{verbatim}     (1 - yfrac) * [(1 - xfrac)*s00 + xfrac*s01] + 
     yfrac       * [(1 - xfrac)*s10 + xfrac*s11]
   \end{verbatim}
\normalsize


This is documented by the following diagram: 

\footnotesize\begin{verbatim}                         s00    s01                                     
                                                                        
                             .      < yfrac                      
                                                                        
                         s10    s11                                     
                             ^                                           
                            xfrac
   \end{verbatim}
\normalsize
 \begin{Desc}
\item[See also:]\href{http://java.sun.com/products/java-media/jai/forDevelopers/jai-apidocs/javax/media/jai/InterpolationBilinear.html}{\tt http://java.sun.com/products/java-media/jai/for\-Developers/jai-apidocs/javax/media/jai/Interpolation\-Bilinear.html} \end{Desc}
\begin{Desc}
\item[Warning:]if any of the 4 used values of infield is undefined or outside of infield, the return value will be undefined \end{Desc}
\hypertarget{interpolation_8h_3a8843a6253cd4e7d8a6c513c3625c66}{
\index{interpolation.h@{interpolation.h}!miup_get_values_f@{miup\_\-get\_\-values\_\-f}}
\index{miup_get_values_f@{miup\_\-get\_\-values\_\-f}!interpolation.h@{interpolation.h}}
\subsubsection[miup\_\-get\_\-values\_\-f]{\setlength{\rightskip}{0pt plus 5cm}int miup\_\-get\_\-values\_\-f (const float $\ast$ {\em infield}, float $\ast$ {\em outvalues}, const double {\em x}, const double {\em y}, const int {\em ix}, const int {\em iy}, const int {\em iz})}}
\label{interpolation_8h_3a8843a6253cd4e7d8a6c513c3625c66}


\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em infield}]3d fortran array of size ix,iy,iz \item[{\em outfield}]1d array of size iz containing the values \end{description}
\end{Desc}
\hypertarget{interpolation_8h_c4d4b7ae0abf708f6156a1664982b82c}{
\index{interpolation.h@{interpolation.h}!miup_interpolate_d@{miup\_\-interpolate\_\-d}}
\index{miup_interpolate_d@{miup\_\-interpolate\_\-d}!interpolation.h@{interpolation.h}}
\subsubsection[miup\_\-interpolate\_\-d]{\setlength{\rightskip}{0pt plus 5cm}int miup\_\-interpolate\_\-d (int {\em method}, char $\ast$ {\em proj\_\-input}, double $\ast$ {\em infield}, double $\ast$ {\em in\_\-x\_\-axis}, double $\ast$ {\em in\_\-y\_\-axis}, int {\em in\_\-x\_\-axis\_\-type}, int {\em in\_\-y\_\-axis\_\-type}, int {\em ix}, int {\em iy}, int {\em iz}, char $\ast$ {\em proj\_\-output}, double $\ast$ {\em outfield}, double $\ast$ {\em out\_\-x\_\-axis}, double $\ast$ {\em out\_\-y\_\-axis}, int {\em out\_\-x\_\-axis\_\-type}, int {\em out\_\-y\_\-axis\_\-type}, int {\em ox}, int {\em oy})}}
\label{interpolation_8h_c4d4b7ae0abf708f6156a1664982b82c}


not implemented yet 

double version of miup\_\-interpolate\_\-f \begin{Desc}
\item[See also:]\hyperlink{interpolation_8h_cdad101d181d7bd32c8f2f251c85bab0}{miup\_\-interpolate\_\-f} \end{Desc}
\hypertarget{interpolation_8h_cdad101d181d7bd32c8f2f251c85bab0}{
\index{interpolation.h@{interpolation.h}!miup_interpolate_f@{miup\_\-interpolate\_\-f}}
\index{miup_interpolate_f@{miup\_\-interpolate\_\-f}!interpolation.h@{interpolation.h}}
\subsubsection[miup\_\-interpolate\_\-f]{\setlength{\rightskip}{0pt plus 5cm}int miup\_\-interpolate\_\-f (int {\em method}, const char $\ast$ {\em proj\_\-input}, const float $\ast$ {\em infield}, const double $\ast$ {\em in\_\-x\_\-axis}, const double $\ast$ {\em in\_\-y\_\-axis}, const int {\em in\_\-x\_\-axis\_\-type}, const int {\em in\_\-y\_\-axis\_\-type}, const int {\em ix}, const int {\em iy}, const int {\em iz}, const char $\ast$ {\em proj\_\-output}, float $\ast$ {\em outfield}, const double $\ast$ {\em out\_\-x\_\-axis}, const double $\ast$ {\em out\_\-y\_\-axis}, const int {\em out\_\-x\_\-axis\_\-type}, const int {\em out\_\-y\_\-axis\_\-type}, const int {\em ox}, const int {\em oy})}}
\label{interpolation_8h_cdad101d181d7bd32c8f2f251c85bab0}


Interpolation between two projections. Missing values are set to MIUP\_\-UNDEFINED\_\-F which is implemented as C99 nanf. The coordinates of a cell give the midpoint of a cell, i.e. cell (10,20) spans (\mbox{[}9.5..10.5\mbox{[},\mbox{[}19.5-20.5\mbox{[})

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em method}]one of MIUP\_\-NEAREST\_\-NEIGHBOR MIUP\_\-BILINEAR MIUP\_\-BICUBIC \item[{\em proj\_\-input}]proj4-string of projection of infield \item[{\em infield}]real rectangular array of dimension infield\mbox{[}iz,iy,ix\mbox{]} \item[{\em in\_\-x\_\-axis}]field of size ix. Axis needs to be strong monotonous and if longitude/latitude in degree \item[{\em in\_\-y\_\-axis}]field of size iy. Axis needs to be strong monotonous and if longitude/latitude in degree \item[{\em in\_\-x\_\-axis\_\-type}]one of MIUP\_\-LATITUDE, MIUP\_\-LONGITUDE, MIUP\_\-PROJ\_\-AXIS \item[{\em in\_\-y\_\-axis\_\-type}]one of MIUP\_\-LATITUDE, MIUP\_\-LONGITUDE, MIUP\_\-PROJ\_\-AXIS \item[{\em ix}]x-dimension of infield \item[{\em iy}]y-dimension of infield \item[{\em iz}]z-dimension of infield and outfield. The z-dim allows you to convert several fields at once without calculating the projection again and again. \item[{\em proj\_\-output}]proj4-string of projection of outfield \item[{\em outfield}]real rectangular array of dimension outfield\mbox{[}iz,oy,ox\mbox{]} \item[{\em out\_\-x\_\-axis}]field of size ox. Axis needs to be strong monotonous and if longitude/latitude in degree \item[{\em out\_\-y\_\-axis}]field of size oy. Axis needs to be strong monotonous and if longitude/latitude in degree \item[{\em out\_\-x\_\-axis\_\-type}]one of MIUP\_\-LATITUDE, MIUP\_\-LONGITUDE, MIUP\_\-PROJ\_\-AXIS \item[{\em out\_\-y\_\-axis\_\-type}]one of MIUP\_\-LATITUDE, MIUP\_\-LONGITUDE, MIUP\_\-PROJ\_\-AXIS \item[{\em ox}]x-dimension of outfield \item[{\em oy}]y-dimension of outfield \end{description}
\end{Desc}
\hypertarget{interpolation_8h_15430b7110ce567d75b660f702cddcaf}{
\index{interpolation.h@{interpolation.h}!miup_points2position@{miup\_\-points2position}}
\index{miup_points2position@{miup\_\-points2position}!interpolation.h@{interpolation.h}}
\subsubsection[miup\_\-points2position]{\setlength{\rightskip}{0pt plus 5cm}int miup\_\-points2position (double $\ast$ {\em points}, const int {\em z}, const double $\ast$ {\em axis}, const int {\em num}, const int {\em axis\_\-type})}}
\label{interpolation_8h_15430b7110ce567d75b660f702cddcaf}


find position in array of position in projection 

points2position uses linear splines to find the array-position of points in the given axis

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em points}]the values will get changed from points in axis coordinates to array coordinates \item[{\em z}]number of values in points \item[{\em axis}]coordinate axis \item[{\em num}]number of elements in coordinate axis \item[{\em axis\_\-type}]type of axis, one of MIUP\_\-LONGITUDE, MIUP\_\-LATITUDE, MIUP\_\-PROJ\_\-AXIS \end{description}
\end{Desc}
